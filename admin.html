<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - أكاديمية إيدكون</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <div class="container">
        <div class="login-container" id="loginSection">
            <div class="login-box">
                <h2>تسجيل دخول الإدارة</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="password">كلمة المرور:</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">دخول</button>
                </form>
            </div>
        </div>

        <div class="admin-dashboard" id="adminDashboard" style="display: none;">
            <header class="admin-header">
                <h1>لوحة التحكم</h1>
                <button id="logoutBtn" class="btn btn-secondary">تسجيل خروج</button>
            </header>

            <nav class="admin-nav">
                <button class="nav-btn active" data-tab="courses">الكورسات</button>
                <button class="nav-btn" data-tab="groups">المجموعات</button>
                <button class="nav-btn" data-tab="students">الطلاب</button>
                <button class="nav-btn" data-tab="sessions">الجلسات</button>
                <button class="nav-btn" data-tab="attendance">سجلات الحضور</button>
            </nav>

            <main class="admin-main">
                <!-- Courses Tab -->
                <div class="tab-content" id="coursesTab">
                    <div class="section-header">
                        <h2>إدارة الكورسات</h2>
                        <button id="addCourseBtn" class="btn btn-primary">إضافة كورس</button>
                    </div>
                    <div class="form-container" id="courseForm" style="display: none;">
                        <form id="courseFormElement">
                            <input type="hidden" id="courseId">
                            <div class="form-group">
                                <label for="courseName">اسم الكورس:</label>
                                <input type="text" id="courseName" required>
                            </div>
                            <div class="form-group">
                                <label for="courseDescription">الوصف:</label>
                                <textarea id="courseDescription"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">حفظ الكورس</button>
                            <button type="button" id="cancelCourseBtn" class="btn btn-secondary">إلغاء</button>
                        </form>
                    </div>
                    <div class="table-container">
                        <table id="coursesTable">
                            <thead>
                                <tr>
                                    <th>المعرف</th>
                                    <th>الاسم</th>
                                    <th>الوصف</th>
                                    <th>الإجراءات</th>
                                </tr>
                            </thead>
                            <tbody id="coursesTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Groups Tab -->
                <div class="tab-content" id="groupsTab" style="display: none;">
                    <div class="section-header">
                        <h2>إدارة المجموعات</h2>
                        <button id="addGroupBtn" class="btn btn-primary">إضافة مجموعة</button>
                    </div>
                    <div class="form-container" id="groupForm" style="display: none;">
                        <form id="groupFormElement">
                            <input type="hidden" id="groupId">
                            <div class="form-group">
                                <label for="groupName">اسم المجموعة:</label>
                                <input type="text" id="groupName" required>
                            </div>
                            <div class="form-group">
                                <label for="groupCourse">الكورس:</label>
                                <select id="groupCourse" required>
                                    <option value="">اختر كورس</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">حفظ المجموعة</button>
                            <button type="button" id="cancelGroupBtn" class="btn btn-secondary">إلغاء</button>
                        </form>
                    </div>
                    <div class="table-container">
                        <table id="groupsTable">
                            <thead>
                                <tr>
                                    <th>المعرف</th>
                                    <th>الاسم</th>
                                    <th>الكورس</th>
                                    <th>الإجراءات</th>
                                </tr>
                            </thead>
                            <tbody id="groupsTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Students Tab -->
                <div class="tab-content" id="studentsTab" style="display: none;">
                    <div class="section-header">
                        <h2>إدارة الطلاب</h2>
                        <button id="addStudentBtn" class="btn btn-primary">إضافة طالب</button>
                    </div>
                    <div class="form-container" id="studentForm" style="display: none;">
                        <form id="studentFormElement">
                            <input type="hidden" id="studentId">
                            <div class="form-group">
                                <label for="studentName">الاسم:</label>
                                <input type="text" id="studentName" required>
                            </div>
                            <div class="form-group">
                                <label for="studentPhone">رقم الهاتف:</label>
                                <input type="tel" id="studentPhone" required>
                            </div>
                            <div class="form-group">
                                <label for="studentGroup">المجموعة:</label>
                                <select id="studentGroup" required>
                                    <option value="">اختر مجموعة</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">حفظ الطالب</button>
                            <button type="button" id="cancelStudentBtn" class="btn btn-secondary">إلغاء</button>
                        </form>
                    </div>
                    <div class="table-container">
                        <table id="studentsTable">
                            <thead>
                                <tr>
                                    <th>المعرف</th>
                                    <th>الاسم</th>
                                    <th>الهاتف</th>
                                    <th>المجموعة</th>
                                    <th>الإجراءات</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Sessions Tab -->
                <div class="tab-content" id="sessionsTab" style="display: none;">
                    <div class="section-header">
                        <h2>إدارة الجلسات</h2>
                        <button id="addSessionBtn" class="btn btn-primary">إضافة جلسة</button>
                    </div>
                    <div class="form-container" id="sessionForm" style="display: none;">
                        <form id="sessionFormElement">
                            <input type="hidden" id="sessionId">
                            <div class="form-group">
                                <label for="sessionGroup">المجموعة:</label>
                                <select id="sessionGroup" required>
                                    <option value="">اختر مجموعة</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="sessionDate">التاريخ:</label>
                                <input type="date" id="sessionDate" required>
                            </div>
                            <div class="form-group">
                                <label for="sessionTime">الوقت:</label>
                                <input type="time" id="sessionTime" required>
                            </div>
                            <button type="submit" class="btn btn-primary">إنشاء جلسة</button>
                            <button type="button" id="cancelSessionBtn" class="btn btn-secondary">إلغاء</button>
                        </form>
                    </div>
                    <div class="table-container">
                        <table id="sessionsTable">
                            <thead>
                                <tr>
                                    <th>المعرف</th>
                                    <th>المجموعة</th>
                                    <th>التاريخ</th>
                                    <th>الوقت</th>
                                    <th>رمز QR</th>
                                    <th>الإجراءات</th>
                                </tr>
                            </thead>
                            <tbody id="sessionsTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Attendance Tab -->
                <div class="tab-content" id="attendanceTab" style="display: none;">
                    <div class="section-header">
                        <h2>سجلات الحضور</h2>
                    </div>
                    <div class="table-container">
                        <table id="attendanceTable">
                            <thead>
                                <tr>
                                    <th>الجلسة</th>
                                    <th>الطالب</th>
                                    <th>المجموعة</th>
                                    <th>التاريخ</th>
                                    <th>الحالة</th>
                                </tr>
                            </thead>
                            <tbody id="attendanceTableBody">
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="section-header" style="margin-top: 30px;">
                        <h2>ملخص حضور الطالب</h2>
                    </div>
                    <div class="table-container">
                        <table id="studentSummaryTable">
                            <thead>
                                <tr>
                                    <th>الطالب</th>
                                    <th>المجموعة</th>
                                    <th>إجمالي الجلسات</th>
                                    <th>الحضور</th>
                                    <th>نسبة الحضور</th>
                                </tr>
                            </thead>
                            <tbody id="studentSummaryTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="./js/admin.js"></script>
</body>
</html>